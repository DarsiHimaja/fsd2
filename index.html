<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PM Internship Smart Matching System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b-4 border-blue-600">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-xl">PM</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800">PM Internship Matching System</h1>
                        <p class="text-sm text-gray-600">AI-Powered Candidate-Opportunity Matching</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2 bg-green-100 px-4 py-2 rounded-full">
                    <div class="w-3 h-3 bg-green-500 rounded-full pulse-dot"></div>
                    <span class="text-green-700 font-medium">AI Engine Active</span>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Dashboard Stats -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Total Applicants</p>
                        <p class="text-3xl font-bold text-gray-800">12,847</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                        <span class="text-blue-600 text-xl">üë•</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Available Positions</p>
                        <p class="text-3xl font-bold text-gray-800">2,156</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                        <span class="text-green-600 text-xl">üíº</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Matches Made</p>
                        <p class="text-3xl font-bold text-gray-800">8,923</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                        <span class="text-purple-600 text-xl">üéØ</span>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-gray-600 text-sm">Success Rate</p>
                        <p class="text-3xl font-bold text-gray-800">94.2%</p>
                    </div>
                    <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                        <span class="text-orange-600 text-xl">üìà</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
            <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg">
                <button id="availableTab" onclick="switchTab('available')" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 bg-blue-600 text-white">
                    üìã Available Candidates
                </button>
                <button id="selectedTab" onclick="switchTab('selected')" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 hover:text-gray-800">
                    ‚úÖ Selected Candidates (<span id="selectedCount">0</span>)
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8" id="availableView">
            <!-- Sector Selection -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                        <span class="mr-2">üè¢</span>
                        Select Sector
                    </h2>
                    <div class="space-y-3" id="sectorList">
                        <!-- Sectors will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Filters -->
                <div class="bg-white rounded-xl shadow-lg p-6 mt-6">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <span class="mr-2">üîç</span>
                        Smart Filters
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Category Priority</label>
                            <select id="categoryFilter" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="all">All Categories</option>
                                <option value="SC">SC Priority</option>
                                <option value="ST">ST Priority</option>
                                <option value="OBC">OBC Priority</option>
                                <option value="General">General Category</option>
                                <option value="rural">Rural/Aspirational Districts</option>
                                <option value="first-time">First-time Applicants</option>
                                <option value="high-performance">High Academic Performance</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Company</label>
                            <select id="companyFilter" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="">Select Company</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Role</label>
                            <select id="roleFilter" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="">Select Role</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Location Preference</label>
                            <select class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option>All Locations</option>
                                <option>Metro Cities</option>
                                <option>Tier-2 Cities</option>
                                <option>Home State Preference</option>
                            </select>
                        </div>
                        <button onclick="applyFilters()" class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-medium">
                            Apply AI Matching
                        </button>
                    </div>
                </div>
            </div>

            <!-- Internship Details & Candidates -->
            <div class="lg:col-span-2">
                <!-- Internship Description -->
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6" id="internshipDetails">
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-4xl">üéØ</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">Select a Sector</h3>
                        <p class="text-gray-500">Choose a sector from the left panel to view internship details and matched candidates</p>
                    </div>
                </div>

                <!-- Matched Candidates -->
                <div class="bg-white rounded-xl shadow-lg p-6" id="candidatesSection" style="display: none;">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-gray-800 flex items-center">
                            <span class="mr-2">üë®‚Äçüéì</span>
                            Top Matched Candidates
                        </h3>
                        <div class="flex items-center space-x-2 bg-blue-100 px-3 py-1 rounded-full">
                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                            <span class="text-blue-700 text-sm font-medium">AI Ranked</span>
                        </div>
                    </div>
                    <div id="candidatesList">
                        <!-- Candidates will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Candidates View -->
        <div class="hidden" id="selectedView">
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                        <span class="mr-2">‚úÖ</span>
                        Selected Candidates
                    </h2>
                    <div class="flex items-center space-x-4">
                        <div class="text-right">
                            <div class="text-2xl font-bold text-green-600" id="totalSelected">0</div>
                            <div class="text-sm text-gray-600">Total Selected</div>
                        </div>
                        <button onclick="exportSelected()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium">
                            üìä Export List
                        </button>
                    </div>
                </div>

                <!-- Sector Filter -->
                <div class="mb-6">
                    <div class="flex items-center space-x-4">
                        <div class="flex-1">
                            <label class="block text-sm font-medium text-gray-700 mb-2">üè¢ Filter by Sector</label>
                            <select id="sectorFilterDropdown" onchange="filterSelectedBySector()" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="all">All Sectors</option>
                            </select>
                        </div>
                        <div class="flex-1">
                            <label class="block text-sm font-medium text-gray-700 mb-2">üìä View Statistics</label>
                            <div class="bg-gray-50 rounded-lg p-3">
                                <div class="text-sm text-gray-600" id="filterStats">
                                    Showing all selected candidates
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="selectedCandidatesList">
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-4xl">üìã</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">No Candidates Selected Yet</h3>
                        <p class="text-gray-500">Selected candidates will appear here. You can manage and track all your selections from this tab.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sector data with internship details and roles
        const sectors = {
            'IT and Software Development': {
                icon: 'üíª',
                color: 'blue',
                description: 'Cutting-edge technology internships focusing on software development, AI/ML, cybersecurity, and digital transformation.',
                duration: '6 months',
                stipend: '‚Çπ25,000 - ‚Çπ40,000',
                positions: 450,
                skills: ['Programming', 'Data Structures', 'Web Development', 'Database Management', 'Problem Solving'],
                companies: {
                    'TCS': ['Software Developer', 'Data Analyst', 'UI/UX Designer', 'DevOps Engineer'],
                    'Infosys': ['Full Stack Developer', 'Machine Learning Engineer', 'Cybersecurity Analyst', 'Cloud Architect'],
                    'Wipro': ['Backend Developer', 'Mobile App Developer', 'QA Engineer', 'Business Analyst'],
                    'Tech Mahindra': ['Frontend Developer', 'Database Administrator', 'Network Engineer', 'Product Manager'],
                    'HCL Technologies': ['Software Engineer', 'AI/ML Specialist', 'System Administrator', 'Technical Writer']
                },
                locations: ['Bangalore', 'Hyderabad', 'Pune', 'Chennai', 'Gurgaon'],
                requirements: 'B.Tech/B.E in Computer Science, IT, or related fields. Strong programming fundamentals required.'
            },
            'Banking and Financial Services': {
                icon: 'üè¶',
                color: 'green',
                description: 'Comprehensive exposure to banking operations, financial analysis, risk management, and digital banking solutions.',
                duration: '4 months',
                stipend: '‚Çπ20,000 - ‚Çπ35,000',
                positions: 320,
                skills: ['Financial Analysis', 'Risk Assessment', 'Customer Service', 'Regulatory Compliance', 'Data Analysis'],
                companies: {
                    'SBI': ['Credit Analyst', 'Branch Operations', 'Digital Banking Specialist', 'Risk Management Trainee'],
                    'HDFC Bank': ['Relationship Manager', 'Investment Advisor', 'Loan Processing Officer', 'Treasury Analyst'],
                    'ICICI Bank': ['Financial Consultant', 'Corporate Banking Associate', 'Wealth Management Trainee', 'Compliance Officer'],
                    'Axis Bank': ['Business Analyst', 'Credit Risk Analyst', 'Customer Service Executive', 'Operations Associate'],
                    'Kotak Mahindra': ['Investment Banking Analyst', 'Retail Banking Officer', 'Financial Planner', 'Audit Trainee']
                },
                locations: ['Mumbai', 'Delhi', 'Bangalore', 'Chennai', 'Kolkata'],
                requirements: 'B.Com, BBA, B.E, or MBA students. Strong analytical and communication skills preferred.'
            },
            'Oil, Gas & Energy': {
                icon: '‚ö°',
                color: 'orange',
                description: 'Hands-on experience in energy sector operations, renewable energy projects, and sustainable development initiatives.',
                duration: '6 months',
                stipend: '‚Çπ30,000 - ‚Çπ45,000',
                positions: 180,
                skills: ['Project Management', 'Technical Analysis', 'Safety Protocols', 'Environmental Compliance', 'Data Interpretation'],
                companies: {
                    'ONGC': ['Petroleum Engineer', 'Geologist Trainee', 'Production Engineer', 'HSE Officer'],
                    'Indian Oil': ['Refinery Operations', 'Marketing Executive', 'R&D Associate', 'Supply Chain Analyst'],
                    'NTPC': ['Power Plant Engineer', 'Environmental Engineer', 'Project Coordinator', 'Maintenance Trainee'],
                    'Reliance Industries': ['Process Engineer', 'Business Development Associate', 'Quality Control Analyst', 'Safety Engineer'],
                    'Adani Group': ['Renewable Energy Specialist', 'Project Manager', 'Operations Analyst', 'Sustainability Officer']
                },
                locations: ['Mumbai', 'Delhi', 'Ahmedabad', 'Visakhapatnam', 'Kochi'],
                requirements: 'B.Tech in Mechanical, Chemical, Electrical, or Petroleum Engineering. Field work readiness essential.'
            },
            'FMCG': {
                icon: 'üõçÔ∏è',
                color: 'purple',
                description: 'Dynamic internships in consumer goods sector covering marketing, supply chain, brand management, and retail operations.',
                duration: '4 months',
                stipend: '‚Çπ18,000 - ‚Çπ30,000',
                positions: 280,
                skills: ['Marketing', 'Brand Management', 'Supply Chain', 'Consumer Research', 'Sales Strategy'],
                companies: {
                    'Hindustan Unilever': ['Brand Management Trainee', 'Sales Executive', 'Supply Chain Analyst', 'Market Research Associate'],
                    'Nestle': ['Product Manager Trainee', 'Quality Assurance Officer', 'Distribution Manager', 'Consumer Insights Analyst'],
                    'P&G': ['Marketing Associate', 'Category Manager', 'Trade Marketing Executive', 'Innovation Specialist'],
                    'Britannia': ['Sales Manager Trainee', 'Production Planner', 'Brand Assistant', 'Regional Sales Officer'],
                    'Dabur': ['Digital Marketing Executive', 'Rural Marketing Associate', 'Export Manager', 'R&D Trainee']
                },
                locations: ['Mumbai', 'Delhi', 'Bangalore', 'Chennai', 'Kolkata'],
                requirements: 'MBA, B.Tech, or Bachelor\'s in any discipline. Strong communication and analytical skills required.'
            },
            'Telecom': {
                icon: 'üì±',
                color: 'indigo',
                description: 'Exposure to telecommunications infrastructure, 5G technology, network optimization, and digital communication solutions.',
                duration: '5 months',
                stipend: '‚Çπ22,000 - ‚Çπ38,000',
                positions: 200,
                skills: ['Network Technologies', 'Technical Support', 'Project Coordination', 'Data Analysis', 'Customer Solutions'],
                companies: {
                    'Airtel': ['Network Engineer', 'Customer Experience Associate', 'Business Analyst', '5G Technology Specialist'],
                    'Jio': ['Digital Services Developer', 'Network Planning Engineer', 'Product Manager Trainee', 'Data Analyst'],
                    'Vi': ['RF Engineer', 'Customer Service Manager', 'Sales Executive', 'Technical Support Specialist'],
                    'BSNL': ['Telecom Engineer', 'Operations Manager', 'IT Support Executive', 'Field Engineer'],
                    'Tata Communications': ['Cloud Solutions Architect', 'Network Security Analyst', 'Enterprise Sales Associate', 'Technical Consultant']
                },
                locations: ['Delhi', 'Mumbai', 'Bangalore', 'Hyderabad', 'Pune'],
                requirements: 'B.Tech in Electronics, Telecommunications, or Computer Science. Technical aptitude essential.'
            },
            'Manufacturing': {
                icon: 'üè≠',
                color: 'red',
                description: 'Industrial exposure to manufacturing processes, quality control, automation, and lean manufacturing principles.',
                duration: '6 months',
                stipend: '‚Çπ20,000 - ‚Çπ35,000',
                positions: 350,
                skills: ['Process Optimization', 'Quality Control', 'Safety Management', 'Technical Documentation', 'Problem Solving'],
                companies: {
                    'Tata Motors': ['Production Engineer', 'Quality Control Engineer', 'Design Engineer', 'Supply Chain Analyst'],
                    'Mahindra': ['Manufacturing Engineer', 'R&D Associate', 'Process Improvement Specialist', 'Plant Operations Trainee'],
                    'Bajaj Auto': ['Assembly Line Engineer', 'Quality Assurance Officer', 'Maintenance Engineer', 'Production Planner'],
                    'L&T': ['Project Engineer', 'Construction Manager', 'Design Consultant', 'Site Supervisor'],
                    'Godrej': ['Industrial Engineer', 'Product Development Associate', 'Operations Manager', 'Automation Specialist']
                },
                locations: ['Pune', 'Chennai', 'Aurangabad', 'Coimbatore', 'Gurgaon'],
                requirements: 'B.Tech in Mechanical, Production, or Industrial Engineering. Hands-on approach preferred.'
            },
            'Travel & Hospitality': {
                icon: '‚úàÔ∏è',
                color: 'teal',
                description: 'Experience in tourism management, hotel operations, customer service excellence, and hospitality technology.',
                duration: '4 months',
                stipend: '‚Çπ15,000 - ‚Çπ25,000',
                positions: 220,
                skills: ['Customer Service', 'Event Management', 'Cultural Sensitivity', 'Communication', 'Operations Management'],
                companies: {
                    'Taj Hotels': ['Front Office Associate', 'Food & Beverage Manager', 'Event Coordinator', 'Guest Relations Officer'],
                    'ITC': ['Hotel Operations Trainee', 'Culinary Arts Associate', 'Sales & Marketing Executive', 'Housekeeping Supervisor'],
                    'MakeMyTrip': ['Travel Consultant', 'Product Manager', 'Customer Support Executive', 'Business Development Associate'],
                    'OYO': ['Operations Manager', 'Revenue Manager', 'Quality Assurance Officer', 'Partnership Manager'],
                    'Thomas Cook': ['Tour Manager', 'Travel Advisor', 'Visa Processing Officer', 'Corporate Travel Consultant']
                },
                locations: ['Goa', 'Mumbai', 'Delhi', 'Jaipur', 'Bangalore'],
                requirements: 'Hotel Management, Tourism, or any Bachelor\'s degree. Excellent interpersonal skills required.'
            },
            'Healthcare': {
                icon: 'üè•',
                color: 'pink',
                description: 'Comprehensive healthcare sector exposure including hospital administration, medical technology, and public health initiatives.',
                duration: '5 months',
                stipend: '‚Çπ18,000 - ‚Çπ32,000',
                positions: 190,
                skills: ['Healthcare Administration', 'Patient Care', 'Medical Technology', 'Data Management', 'Regulatory Compliance'],
                companies: {
                    'Apollo Hospitals': ['Hospital Administrator', 'Clinical Research Associate', 'Medical Equipment Specialist', 'Patient Care Coordinator'],
                    'Fortis': ['Healthcare Analyst', 'Medical Records Officer', 'Quality Assurance Manager', 'Pharmacy Trainee'],
                    'Max Healthcare': ['Operations Associate', 'Medical Technology Specialist', 'Insurance Coordinator', 'Lab Technician'],
                    'AIIMS': ['Research Assistant', 'Public Health Officer', 'Medical Data Analyst', 'Clinical Trial Coordinator'],
                    'Manipal Hospitals': ['Healthcare IT Specialist', 'Nursing Supervisor', 'Biomedical Engineer', 'Health Information Manager']
                },
                locations: ['Delhi', 'Mumbai', 'Bangalore', 'Chennai', 'Hyderabad'],
                requirements: 'MBBS, Nursing, Pharmacy, Hospital Administration, or related healthcare degrees.'
            },
            'Infrastructure & Construction': {
                icon: 'üèóÔ∏è',
                color: 'yellow',
                description: 'Real-world experience in infrastructure development, construction management, urban planning, and sustainable building practices.',
                duration: '6 months',
                stipend: '‚Çπ25,000 - ‚Çπ40,000',
                positions: 160,
                skills: ['Project Management', 'Site Supervision', 'Technical Drawing', 'Safety Protocols', 'Quality Assurance'],
                companies: {
                    'L&T': ['Civil Engineer', 'Project Coordinator', 'Site Engineer', 'Quality Control Inspector'],
                    'DLF': ['Construction Manager', 'Real Estate Analyst', 'Project Planning Officer', 'Safety Engineer'],
                    'Godrej Properties': ['Urban Planner', 'Architecture Assistant', 'Property Manager', 'Sales Executive'],
                    'Sobha': ['Structural Engineer', 'Interior Design Associate', 'Construction Supervisor', 'Cost Estimator'],
                    'Brigade Group': ['Project Manager Trainee', 'Building Services Engineer', 'Landscape Architect', 'Facility Manager']
                },
                locations: ['Mumbai', 'Delhi', 'Bangalore', 'Pune', 'Hyderabad'],
                requirements: 'B.Tech in Civil, Architecture, or related engineering disciplines. Field work capability essential.'
            }
        };

        // Sample candidate data with real email addresses
        const candidateProfiles = {
            'IT and Software Development': [
                {
                    name: 'Arjun Sharma',
                    email: 'arjun.sharma2024@gmail.com',
                    phone: '+91 9876543210',
                    score: 96,
                    location: 'Bangalore',
                    education: 'B.Tech CSE, IIT Delhi',
                    skills: ['Python', 'React', 'Machine Learning', 'AWS'],
                    category: 'General',
                    experience: 'Hackathon Winner, 2 Open Source Contributions',
                    preference: 'AI/ML Engineer, Cloud Architect',
                    expectedRole: 'Senior Software Developer, Machine Learning Engineer'
                },
                {
                    name: 'Priya Patel',
                    email: 'priya5@gmail.com',
                    phone: '+91 9876543211',
                    score: 94,
                    location: 'Ahmedabad',
                    education: 'B.Tech IT, NIT Surat',
                    skills: ['Java', 'Spring Boot', 'Database Design', 'DevOps'],
                    category: 'OBC',
                    experience: 'Internship at Local Startup, Coding Competitions',
                    preference: 'Backend Developer, DevOps Engineer',
                    expectedRole: 'Backend Developer, System Administrator'
                },
                {
                    name: 'Rahul Kumar',
                    email: 'rahul.kumar.dev@gmail.com',
                    phone: '+91 9876543212',
                    score: 92,
                    location: 'Patna',
                    education: 'B.Tech CSE, NIT Patna',
                    skills: ['JavaScript', 'Node.js', 'MongoDB', 'React Native'],
                    category: 'SC',
                    experience: 'Rural Tech Initiative Volunteer, App Development',
                    preference: 'Rural Technology Solutions, Digital Literacy Programs',
                    expectedRole: 'Junior Developer, Technical Support Specialist'
                },
                {
                    name: 'Ananya Singh',
                    email: 'ananya.tech@gmail.com',
                    phone: '+91 9876543216',
                    score: 90,
                    location: 'Delhi',
                    education: 'B.Tech CSE, DTU',
                    skills: ['C++', 'Data Structures', 'Android Development', 'Firebase'],
                    category: 'ST',
                    experience: 'Mobile App Development Projects, Technical Blog Writer',
                    preference: 'Tribal Area Digitization, Mobile App for Rural Communities',
                    expectedRole: 'Mobile App Developer, Community Tech Coordinator'
                }
            ],
            'Banking and Financial Services': [
                {
                    name: 'Sneha Reddy',
                    email: 'sneha.finance@gmail.com',
                    phone: '+91 9876543213',
                    score: 95,
                    location: 'Hyderabad',
                    education: 'MBA Finance, IIM Bangalore',
                    skills: ['Financial Modeling', 'Risk Analysis', 'Excel', 'SQL'],
                    category: 'General',
                    experience: 'Summer Internship at Regional Bank, CFA Level 1',
                    preference: 'Investment Banking, Corporate Finance',
                    expectedRole: 'Investment Banking Analyst, Risk Management Specialist'
                },
                {
                    name: 'Amit Gupta',
                    email: 'amit.banking@gmail.com',
                    phone: '+91 9876543214',
                    score: 91,
                    location: 'Jaipur',
                    education: 'B.Com, University of Rajasthan',
                    skills: ['Accounting', 'Financial Analysis', 'Customer Service', 'MS Office'],
                    category: 'OBC',
                    experience: 'Part-time at Cooperative Bank, Finance Club President',
                    preference: 'Retail Banking, Small Business Finance',
                    expectedRole: 'Relationship Manager, Credit Analyst'
                },
                {
                    name: 'Kavya Singh',
                    email: 'kavya.banking@gmail.com',
                    phone: '+91 9876543215',
                    score: 89,
                    location: 'Lucknow',
                    education: 'BBA, Lucknow University',
                    skills: ['Banking Operations', 'Digital Banking', 'Communication', 'Problem Solving'],
                    category: 'General',
                    experience: 'Banking Awareness Campaigns, Financial Literacy Volunteer',
                    preference: 'Digital Banking, Financial Technology',
                    expectedRole: 'Digital Banking Specialist, Operations Associate'
                },
                {
                    name: 'Ravi Meena',
                    email: 'ravi.meena.finance@gmail.com',
                    phone: '+91 9876543217',
                    score: 87,
                    location: 'Kota',
                    education: 'B.Com, Rajasthan University',
                    skills: ['Banking Fundamentals', 'Customer Relations', 'Hindi/English Communication', 'Basic Computer'],
                    category: 'ST',
                    experience: 'Rural Banking Awareness Programs, Village Financial Literacy',
                    preference: 'Tribal Area Banking, Financial Inclusion Programs',
                    expectedRole: 'Rural Banking Officer, Microfinance Coordinator'
                },
                {
                    name: 'Deepika Sharma',
                    email: 'deepika.bank@gmail.com',
                    phone: '+91 9876543218',
                    score: 93,
                    location: 'Mumbai',
                    education: 'MBA Finance, NMIMS',
                    skills: ['Investment Analysis', 'Portfolio Management', 'Financial Planning', 'Market Research'],
                    category: 'SC',
                    experience: 'Stock Market Analysis, Personal Finance Consulting',
                    preference: 'Financial Inclusion, Community Banking',
                    expectedRole: 'Financial Advisor, Community Banking Specialist'
                }
            ],
            'Oil, Gas & Energy': [
                {
                    name: 'Vikram Yadav',
                    email: 'vikram.energy@gmail.com',
                    phone: '+91 9876543219',
                    score: 94,
                    location: 'Mumbai',
                    education: 'B.Tech Petroleum Engineering, IIT Dhanbad',
                    skills: ['Reservoir Engineering', 'Drilling Operations', 'Production Optimization', 'Safety Protocols'],
                    category: 'OBC',
                    experience: 'Summer Training at ONGC, Research on Enhanced Oil Recovery',
                    preference: 'Rural Energy Infrastructure, Community Power Projects',
                    expectedRole: 'Field Operations Engineer, Rural Electrification Specialist'
                },
                {
                    name: 'Meera Tribal',
                    email: 'meera.oil@gmail.com',
                    phone: '+91 9876543220',
                    score: 88,
                    location: 'Ranchi',
                    education: 'B.Tech Chemical Engineering, NIT Rourkela',
                    skills: ['Process Engineering', 'Environmental Compliance', 'Safety Management', 'Project Coordination'],
                    category: 'ST',
                    experience: 'Environmental Impact Assessment Projects, Tribal Area Development',
                    preference: 'Tribal Land Environmental Protection, Sustainable Energy for Remote Areas',
                    expectedRole: 'Environmental Compliance Officer, Tribal Area Energy Coordinator'
                },
                {
                    name: 'Suresh Kumar',
                    email: 'suresh.energy@gmail.com',
                    phone: '+91 9876543221',
                    score: 91,
                    location: 'Visakhapatnam',
                    education: 'B.Tech Mechanical Engineering, Andhra University',
                    skills: ['Mechanical Systems', 'Maintenance Planning', 'Quality Control', 'Technical Documentation'],
                    category: 'SC',
                    experience: 'Refinery Maintenance Projects, Industrial Safety Training',
                    preference: 'Community Energy Programs, Skill Development in Energy Sector',
                    expectedRole: 'Maintenance Technician, Community Energy Program Coordinator'
                },
                {
                    name: 'Aditi Sharma',
                    email: 'aditi.renewable@gmail.com',
                    phone: '+91 9876543222',
                    score: 92,
                    location: 'Pune',
                    education: 'B.Tech Electrical Engineering, COEP',
                    skills: ['Renewable Energy Systems', 'Power Electronics', 'Grid Integration', 'Energy Storage'],
                    category: 'General',
                    experience: 'Solar Energy Projects, Smart Grid Research',
                    preference: 'Advanced Renewable Technologies, Smart Grid Systems',
                    expectedRole: 'Renewable Energy Engineer, Smart Grid Analyst'
                }
            ],
            'FMCG': [
                {
                    name: 'Rohit Jain',
                    email: 'rohit.fmcg@gmail.com',
                    phone: '+91 9876543223',
                    score: 89,
                    location: 'Mumbai',
                    education: 'MBA Marketing, XLRI',
                    skills: ['Brand Management', 'Market Research', 'Consumer Behavior', 'Digital Marketing'],
                    category: 'General',
                    experience: 'Brand Management Internship, Consumer Research Projects',
                    preference: 'Premium Brand Management, International Markets',
                    expectedRole: 'Brand Manager, Marketing Strategy Lead'
                },
                {
                    name: 'Sunita Devi',
                    email: 'sunita.consumer@gmail.com',
                    phone: '+91 9876543224',
                    score: 85,
                    location: 'Patna',
                    education: 'B.Tech Food Technology, NIT Patna',
                    skills: ['Food Processing', 'Quality Assurance', 'Supply Chain', 'Rural Marketing'],
                    category: 'SC',
                    experience: 'Rural Product Distribution, Food Safety Certification',
                    preference: 'Rural Market Development, Community Product Distribution',
                    expectedRole: 'Rural Sales Officer, Community Outreach Coordinator'
                },
                {
                    name: 'Kiran Tribal',
                    email: 'kiran.fmcg@gmail.com',
                    phone: '+91 9876543225',
                    score: 87,
                    location: 'Bhopal',
                    education: 'MBA Operations, IIM Indore',
                    skills: ['Supply Chain Management', 'Operations Research', 'Logistics', 'Vendor Management'],
                    category: 'ST',
                    experience: 'Tribal Area Market Development, Supply Chain Optimization',
                    preference: 'Tribal Area Supply Chain, Indigenous Product Development',
                    expectedRole: 'Tribal Market Specialist, Indigenous Products Manager'
                },
                {
                    name: 'Pooja Yadav',
                    email: 'pooja.marketing@gmail.com',
                    phone: '+91 9876543226',
                    score: 91,
                    location: 'Delhi',
                    education: 'MBA Marketing, FMS Delhi',
                    skills: ['Digital Marketing', 'Social Media Strategy', 'Content Marketing', 'Analytics'],
                    category: 'OBC',
                    experience: 'Digital Campaign Management, E-commerce Marketing',
                    preference: 'Regional Digital Marketing, Local Brand Promotion',
                    expectedRole: 'Regional Marketing Manager, Digital Campaign Specialist'
                }
            ],
            'Telecom': [
                {
                    name: 'Rajesh Telecom',
                    email: 'rajesh.telecom@gmail.com',
                    phone: '+91 9876543227',
                    score: 93,
                    location: 'Bangalore',
                    education: 'B.Tech Electronics & Communication, IIIT Bangalore',
                    skills: ['5G Technology', 'Network Optimization', 'RF Engineering', 'Signal Processing'],
                    category: 'General',
                    experience: '5G Research Projects, Network Performance Analysis',
                    preference: 'Advanced 5G Research, Network Architecture Design',
                    expectedRole: '5G Network Engineer, RF Design Specialist'
                },
                {
                    name: 'Tribal Kumari',
                    email: 'tribal.network@gmail.com',
                    phone: '+91 9876543228',
                    score: 86,
                    location: 'Ranchi',
                    education: 'B.Tech Computer Science, NIT Jamshedpur',
                    skills: ['Network Administration', 'Cybersecurity', 'Database Management', 'Technical Support'],
                    category: 'ST',
                    experience: 'Rural Connectivity Projects, Digital Literacy Programs',
                    preference: 'Tribal Area Connectivity, Digital Inclusion Programs',
                    expectedRole: 'Rural Network Coordinator, Digital Literacy Specialist'
                },
                {
                    name: 'Manish Kumar',
                    email: 'manish.5g@gmail.com',
                    phone: '+91 9876543229',
                    score: 90,
                    location: 'Hyderabad',
                    education: 'B.Tech Telecommunications, JNTU',
                    skills: ['Network Planning', 'Telecom Infrastructure', 'Project Management', 'Customer Solutions'],
                    category: 'SC',
                    experience: 'Telecom Infrastructure Development, Customer Service Excellence',
                    preference: 'Community Network Development, Affordable Connectivity Solutions',
                    expectedRole: 'Network Planning Associate, Community Connectivity Manager'
                },
                {
                    name: 'Neha Patel',
                    email: 'neha.telecom@gmail.com',
                    phone: '+91 9876543230',
                    score: 88,
                    location: 'Ahmedabad',
                    education: 'B.Tech Electronics, NIT Surat',
                    skills: ['Mobile Technology', 'IoT Systems', 'Data Analytics', 'Technical Documentation'],
                    category: 'OBC',
                    experience: 'IoT Project Development, Mobile App Testing',
                    preference: 'Regional IoT Solutions, Local Mobile Services',
                    expectedRole: 'IoT Solutions Developer, Regional Technical Support'
                }
            ],
            'Manufacturing': [
                {
                    name: 'Arun Manufacturing',
                    email: 'arun.manufacturing@gmail.com',
                    phone: '+91 9876543231',
                    score: 92,
                    location: 'Pune',
                    education: 'B.Tech Mechanical Engineering, COEP',
                    skills: ['Production Planning', 'Quality Control', 'Lean Manufacturing', 'Automation'],
                    category: 'General',
                    experience: 'Automotive Manufacturing Internship, Six Sigma Green Belt',
                    preference: 'Advanced Manufacturing Technologies, Automation Systems',
                    expectedRole: 'Production Manager, Automation Engineer'
                },
                {
                    name: 'Santosh Tribal',
                    email: 'santosh.production@gmail.com',
                    phone: '+91 9876543232',
                    score: 87,
                    location: 'Raipur',
                    education: 'B.Tech Industrial Engineering, NIT Raipur',
                    skills: ['Industrial Engineering', 'Process Improvement', 'Safety Management', 'Cost Optimization'],
                    category: 'ST',
                    experience: 'Tribal Industrial Development, Safety Protocol Implementation',
                    preference: 'Tribal Area Industrial Development, Traditional Craft Modernization',
                    expectedRole: 'Tribal Industries Coordinator, Traditional Craft Development Officer'
                },
                {
                    name: 'Ravi Production',
                    email: 'ravi.manufacturing@gmail.com',
                    phone: '+91 9876543233',
                    score: 89,
                    location: 'Chennai',
                    education: 'B.Tech Production Engineering, Anna University',
                    skills: ['Manufacturing Processes', 'Tool Design', 'CNC Programming', 'Quality Assurance'],
                    category: 'SC',
                    experience: 'Manufacturing Process Optimization, Tool Design Projects',
                    preference: 'Skill Development Programs, Community Manufacturing',
                    expectedRole: 'Production Technician, Skills Training Coordinator'
                },
                {
                    name: 'Priya Manufacturing',
                    email: 'priya.industrial@gmail.com',
                    phone: '+91 9876543234',
                    score: 90,
                    location: 'Coimbatore',
                    education: 'B.Tech Mechanical Engineering, PSG Tech',
                    skills: ['CAD/CAM', 'Product Design', 'Manufacturing Systems', 'Project Management'],
                    category: 'OBC',
                    experience: 'Product Design Projects, Manufacturing System Analysis',
                    preference: 'Regional Manufacturing Development, Local Product Design',
                    expectedRole: 'Regional Manufacturing Specialist, Product Development Associate'
                }
            ],
            'Travel & Hospitality': [
                {
                    name: 'Anjali Hospitality',
                    email: 'anjali.hospitality@gmail.com',
                    phone: '+91 9876543235',
                    score: 91,
                    location: 'Goa',
                    education: 'Hotel Management, IHM Goa',
                    skills: ['Hotel Operations', 'Customer Service', 'Event Management', 'Tourism Planning'],
                    category: 'General',
                    experience: 'Luxury Hotel Internship, Event Coordination',
                    preference: 'Luxury Hospitality Management, International Tourism',
                    expectedRole: 'Hotel Operations Manager, Event Management Specialist'
                },
                {
                    name: 'Tribal Tourism',
                    email: 'tribal.tourism@gmail.com',
                    phone: '+91 9876543236',
                    score: 84,
                    location: 'Shillong',
                    education: 'B.A. Tourism, NEHU',
                    skills: ['Cultural Tourism', 'Local Guide Services', 'Eco-tourism', 'Community Development'],
                    category: 'ST',
                    experience: 'Tribal Tourism Development, Cultural Heritage Projects',
                    preference: 'Tribal Heritage Tourism, Indigenous Culture Promotion',
                    expectedRole: 'Tribal Tourism Coordinator, Cultural Heritage Guide'
                },
                {
                    name: 'Sunil Travel',
                    email: 'sunil.travel@gmail.com',
                    phone: '+91 9876543237',
                    score: 88,
                    location: 'Jaipur',
                    education: 'MBA Tourism, Rajasthan University',
                    skills: ['Travel Planning', 'Customer Relations', 'Tour Operations', 'Digital Marketing'],
                    category: 'SC',
                    experience: 'Heritage Tourism Projects, Travel Agency Operations',
                    preference: 'Community Tourism Development, Accessible Travel Services',
                    expectedRole: 'Community Tourism Officer, Accessible Travel Coordinator'
                },
                {
                    name: 'Kavita Hotel',
                    email: 'kavita.hotel@gmail.com',
                    phone: '+91 9876543238',
                    score: 89,
                    location: 'Mumbai',
                    education: 'Hotel Management, IHM Mumbai',
                    skills: ['Front Office Operations', 'Food & Beverage', 'Housekeeping', 'Revenue Management'],
                    category: 'OBC',
                    experience: 'Five-star Hotel Training, Customer Service Excellence',
                    preference: 'Regional Hospitality Development, Local Tourism Promotion',
                    expectedRole: 'Regional Hospitality Manager, Local Tourism Specialist'
                }
            ],
            'Healthcare': [
                {
                    name: 'Dr. Amit Health',
                    email: 'amit.healthcare@gmail.com',
                    phone: '+91 9876543239',
                    score: 95,
                    location: 'Delhi',
                    education: 'MBBS, AIIMS Delhi',
                    skills: ['Clinical Medicine', 'Patient Care', 'Medical Research', 'Healthcare Administration'],
                    category: 'General',
                    experience: 'Clinical Rotations, Medical Research Projects',
                    preference: 'Advanced Medical Research, Specialized Healthcare',
                    expectedRole: 'Medical Research Associate, Clinical Specialist'
                },
                {
                    name: 'Tribal Nurse',
                    email: 'tribal.healthcare@gmail.com',
                    phone: '+91 9876543240',
                    score: 86,
                    location: 'Imphal',
                    education: 'B.Sc Nursing, RIMS Imphal',
                    skills: ['Patient Care', 'Community Health', 'Preventive Medicine', 'Health Education'],
                    category: 'ST',
                    experience: 'Rural Health Programs, Community Health Worker',
                    preference: 'Tribal Community Health, Traditional Medicine Integration',
                    expectedRole: 'Tribal Health Coordinator, Community Health Worker'
                },
                {
                    name: 'Sunita Medical',
                    email: 'sunita.medical@gmail.com',
                    phone: '+91 9876543241',
                    score: 90,
                    location: 'Chennai',
                    education: 'Pharmacy, Tamil Nadu Dr. MGR University',
                    skills: ['Pharmaceutical Sciences', 'Drug Information', 'Clinical Pharmacy', 'Quality Control'],
                    category: 'SC',
                    experience: 'Hospital Pharmacy Training, Drug Safety Research',
                    preference: 'Community Pharmacy Services, Affordable Healthcare',
                    expectedRole: 'Community Pharmacist, Healthcare Access Coordinator'
                },
                {
                    name: 'Rajesh Pharma',
                    email: 'rajesh.pharma@gmail.com',
                    phone: '+91 9876543242',
                    score: 88,
                    location: 'Hyderabad',
                    education: 'Hospital Administration, Osmania University',
                    skills: ['Healthcare Management', 'Hospital Operations', 'Health Information Systems', 'Quality Assurance'],
                    category: 'OBC',
                    experience: 'Hospital Administration Internship, Healthcare IT Projects',
                    preference: 'Regional Healthcare Management, Rural Hospital Administration',
                    expectedRole: 'Regional Healthcare Administrator, Rural Health Program Manager'
                }
            ],
            'Infrastructure & Construction': [
                {
                    name: 'Vikash Construction',
                    email: 'vikash.construction@gmail.com',
                    phone: '+91 9876543243',
                    score: 93,
                    location: 'Mumbai',
                    education: 'B.Tech Civil Engineering, IIT Bombay',
                    skills: ['Structural Design', 'Project Management', 'Construction Planning', 'Quality Control'],
                    category: 'General',
                    experience: 'Infrastructure Projects, Structural Analysis',
                    preference: 'Large Scale Infrastructure, Smart City Development',
                    expectedRole: 'Project Manager, Structural Design Engineer'
                },
                {
                    name: 'Tribal Builder',
                    email: 'tribal.construction@gmail.com',
                    phone: '+91 9876543244',
                    score: 85,
                    location: 'Guwahati',
                    education: 'B.Tech Civil Engineering, NIT Silchar',
                    skills: ['Rural Construction', 'Sustainable Building', 'Community Development', 'Environmental Engineering'],
                    category: 'ST',
                    experience: 'Rural Infrastructure Development, Sustainable Construction',
                    preference: 'Tribal Area Infrastructure, Traditional Building Techniques',
                    expectedRole: 'Tribal Infrastructure Coordinator, Sustainable Construction Specialist'
                },
                {
                    name: 'Ramesh Civil',
                    email: 'ramesh.civil@gmail.com',
                    phone: '+91 9876543245',
                    score: 89,
                    location: 'Bangalore',
                    education: 'B.Tech Civil Engineering, BMS College',
                    skills: ['Site Engineering', 'Construction Management', 'Safety Protocols', 'Quality Assurance'],
                    category: 'SC',
                    experience: 'Construction Site Management, Safety Implementation',
                    preference: 'Community Housing Projects, Affordable Construction',
                    expectedRole: 'Site Supervisor, Community Housing Coordinator'
                },
                {
                    name: 'Geeta Architecture',
                    email: 'geeta.architecture@gmail.com',
                    phone: '+91 9876543246',
                    score: 91,
                    location: 'Pune',
                    education: 'B.Arch, CEPT University',
                    skills: ['Architectural Design', 'Urban Planning', 'Building Information Modeling', 'Sustainable Design'],
                    category: 'OBC',
                    experience: 'Architectural Design Projects, Urban Planning Studies',
                    preference: 'Regional Urban Planning, Local Architecture Development',
                    expectedRole: 'Regional Planning Associate, Local Architecture Specialist'
                }
            ]
        };

        // Initialize the application
        function initializeApp() {
            renderSectors();
            
            // Add event listener for category filter changes
            document.getElementById('categoryFilter').addEventListener('change', function() {
                if (currentSector) {
                    renderCandidates(currentSector);
                }
            });
        }

        // Apply filters function
        function applyFilters() {
            if (currentSector) {
                renderCandidates(currentSector);
                
                // Show filter applied message
                const filterValue = document.getElementById('categoryFilter').value;
                const filterText = document.getElementById('categoryFilter').options[document.getElementById('categoryFilter').selectedIndex].text;
                
                const toast = document.createElement('div');
                toast.className = 'fixed top-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 fade-in';
                toast.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <span>üîç</span>
                        <span>Filter Applied: ${filterText}</span>
                    </div>
                `;
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            } else {
                alert('Please select a sector first to apply filters.');
            }
        }

        // Render sector list
        function renderSectors() {
            const sectorList = document.getElementById('sectorList');
            sectorList.innerHTML = '';

            Object.keys(sectors).forEach(sectorName => {
                const sector = sectors[sectorName];
                const sectorElement = document.createElement('div');
                sectorElement.className = `p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-${sector.color}-500 hover:bg-${sector.color}-50 transition-all duration-200 sector-item`;
                sectorElement.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">${sector.icon}</span>
                            <div>
                                <h4 class="font-semibold text-gray-800">${sectorName}</h4>
                                <p class="text-sm text-gray-600">${sector.positions} positions</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-medium text-${sector.color}-600">${sector.stipend}</div>
                            <div class="text-xs text-gray-500">${sector.duration}</div>
                        </div>
                    </div>
                `;
                sectorElement.addEventListener('click', () => selectSector(sectorName));
                sectorList.appendChild(sectorElement);
            });
        }

        // Select sector and show details
        function selectSector(sectorName) {
            // Update active sector styling
            document.querySelectorAll('.sector-item').forEach(item => {
                item.classList.remove('border-blue-500', 'bg-blue-50');
                item.classList.add('border-gray-200');
            });
            event.currentTarget.classList.remove('border-gray-200');
            event.currentTarget.classList.add('border-blue-500', 'bg-blue-50');

            const sector = sectors[sectorName];
            const internshipDetails = document.getElementById('internshipDetails');
            const candidatesSection = document.getElementById('candidatesSection');

            // Update filters for the selected sector
            updateFilters(sectorName);

            // Show internship details
            internshipDetails.innerHTML = `
                <div class="fade-in">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-16 h-16 bg-${sector.color}-100 rounded-xl flex items-center justify-center">
                                <span class="text-3xl">${sector.icon}</span>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">${sectorName}</h2>
                                <p class="text-gray-600">Internship Program</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-${sector.color}-600">${sector.positions}</div>
                            <div class="text-sm text-gray-600">Available Positions</div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="font-semibold text-gray-800 mb-2">üí∞ Stipend Range</h4>
                            <p class="text-lg font-bold text-${sector.color}-600">${sector.stipend}</p>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h4 class="font-semibold text-gray-800 mb-2">‚è±Ô∏è Duration</h4>
                            <p class="text-lg font-bold text-${sector.color}-600">${sector.duration}</p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">üìã Program Description</h4>
                        <p class="text-gray-700 leading-relaxed">${sector.description}</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-3">üéØ Key Skills</h4>
                            <div class="flex flex-wrap gap-2">
                                ${sector.skills.map(skill => `<span class="bg-${sector.color}-100 text-${sector.color}-700 px-3 py-1 rounded-full text-sm font-medium">${skill}</span>`).join('')}
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-3">üìç Locations</h4>
                            <div class="flex flex-wrap gap-2">
                                ${sector.locations.map(location => `<span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">${location}</span>`).join('')}
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h4 class="font-semibold text-gray-800 mb-3">üè¢ Partner Companies & Roles</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${Object.entries(sector.companies).map(([company, roles]) => `
                                <div class="bg-gray-50 rounded-lg p-4">
                                    <h5 class="font-semibold text-gray-800 mb-2">${company}</h5>
                                    <div class="flex flex-wrap gap-1">
                                        ${roles.slice(0, 3).map(role => `<span class="bg-white text-gray-600 px-2 py-1 rounded text-xs">${role}</span>`).join('')}
                                        ${roles.length > 3 ? `<span class="text-gray-500 text-xs">+${roles.length - 3} more</span>` : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="bg-blue-50 rounded-lg p-4">
                        <h4 class="font-semibold text-blue-800 mb-2">üìö Requirements</h4>
                        <p class="text-blue-700">${sector.requirements}</p>
                    </div>
                </div>
            `;

            // Show matched candidates
            candidatesSection.style.display = 'block';
            renderCandidates(sectorName);
        }

        // Render matched candidates
        function renderCandidates(sectorName) {
            const candidatesList = document.getElementById('candidatesList');
            const candidates = candidateProfiles[sectorName] || [];
            
            // Apply category filter
            const categoryFilter = document.getElementById('categoryFilter').value;
            let filteredCandidates = candidates;
            
            if (categoryFilter !== 'all') {
                filteredCandidates = candidates.filter(candidate => {
                    switch(categoryFilter) {
                        case 'SC':
                            return candidate.category === 'SC';
                        case 'ST':
                            return candidate.category === 'ST';
                        case 'OBC':
                            return candidate.category === 'OBC';
                        case 'General':
                            return candidate.category === 'General';
                        case 'rural':
                            return candidate.location.includes('Rural') || 
                                   ['Patna', 'Ranchi', 'Kota', 'Raipur', 'Imphal', 'Shillong'].includes(candidate.location);
                        case 'first-time':
                            return candidate.experience.toLowerCase().includes('first') || 
                                   candidate.experience.toLowerCase().includes('new') ||
                                   !candidate.experience.toLowerCase().includes('internship');
                        case 'high-performance':
                            return candidate.score >= 95;
                        default:
                            return true;
                    }
                });
            }
            
            // Sort candidates by score (highest to lowest)
            const sortedCandidates = filteredCandidates.sort((a, b) => b.score - a.score);

            if (sortedCandidates.length === 0) {
                candidatesList.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-4xl">üîç</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">No Candidates Found</h3>
                        <p class="text-gray-500">No candidates match the selected filter criteria. Try adjusting your filters or select "All Categories".</p>
                    </div>
                `;
                return;
            }

            candidatesList.innerHTML = sortedCandidates.map((candidate, index) => `
                <div class="border border-gray-200 rounded-lg p-6 mb-4 hover:shadow-lg transition-all duration-200 fade-in" style="animation-delay: ${index * 0.1}s">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg">
                                ${candidate.name.charAt(0)}
                            </div>
                            <div>
                                <h4 class="text-lg font-bold text-gray-800">${candidate.name}</h4>
                                <p class="text-gray-600">${candidate.education}</p>
                                <div class="flex items-center space-x-4 mt-1">
                                    <span class="text-sm text-gray-500">üìç ${candidate.location}</span>
                                    <span class="text-sm bg-${candidate.category === 'SC' ? 'green' : candidate.category === 'OBC' ? 'yellow' : 'blue'}-100 text-${candidate.category === 'SC' ? 'green' : candidate.category === 'OBC' ? 'yellow' : 'blue'}-700 px-2 py-1 rounded">${candidate.category}</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="text-2xl font-bold text-green-600">${candidate.score}%</span>
                                <div class="w-16 h-2 bg-gray-200 rounded-full">
                                    <div class="h-2 bg-gradient-to-r from-green-400 to-green-600 rounded-full" style="width: ${candidate.score}%"></div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-500">Match Score</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <h5 class="font-semibold text-gray-700 mb-2">üõ†Ô∏è Technical Skills</h5>
                            <div class="flex flex-wrap gap-1">
                                ${candidate.skills.map(skill => `<span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs">${skill}</span>`).join('')}
                            </div>
                        </div>
                        <div>
                            <h5 class="font-semibold text-gray-700 mb-2">üíº Experience</h5>
                            <p class="text-sm text-gray-600">${candidate.experience}</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <h5 class="font-semibold text-gray-700 mb-2">üéØ Preferences</h5>
                            <p class="text-sm text-gray-600">${candidate.preference}</p>
                        </div>
                        <div>
                            <h5 class="font-semibold text-gray-700 mb-2">üíº Expected Role</h5>
                            <p class="text-sm text-blue-600 font-medium">${candidate.expectedRole}</p>
                        </div>
                    </div>

                    <div class="flex space-x-3">
                        <button onclick="selectCandidate('${candidate.name}', '${candidate.email}', '${candidate.phone}')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 text-sm font-medium">
                            ‚úÖ Select Candidate
                        </button>
                        <button onclick="viewProfile('${candidate.name}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                            üìÑ View Full Profile
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Global variables
        let currentSector = '';
        let selectedCompany = '';
        let selectedRole = '';
        let selectedCandidates = [];
        let scheduledCandidates = [];
        let currentTab = 'available';
        let selectedSectorFilter = 'all';

        // Function to get candidate action buttons based on status
        function getCandidateActionButtons(candidate) {
            const isSelected = selectedCandidates.some(c => c.name === candidate.name && c.email === candidate.email);
            const isScheduled = scheduledCandidates.some(c => c.name === candidate.name && c.email === candidate.email);
            
            if (isSelected) {
                return `
                    <div class="bg-green-100 text-green-700 px-4 py-2 rounded-lg border border-green-300 text-sm font-medium flex items-center">
                        <span class="mr-2">‚úÖ</span>
                        Selected
                    </div>
                    <button onclick="viewProfile('${candidate.name}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                        üìÑ View Full Profile
                    </button>
                `;
            } else if (isScheduled) {
                return `
                    <div class="bg-purple-100 text-purple-700 px-4 py-2 rounded-lg border border-purple-300 text-sm font-medium flex items-center">
                        <span class="mr-2">üìÖ</span>
                        Interview Scheduled
                    </div>
                    <button onclick="selectCandidate('${candidate.name}', '${candidate.email}', '${candidate.phone}')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 text-sm font-medium">
                        ‚úÖ Select Candidate
                    </button>
                    <button onclick="viewProfile('${candidate.name}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                        üìÑ View Full Profile
                    </button>
                `;
            } else {
                return `
                    <button onclick="selectCandidate('${candidate.name}', '${candidate.email}', '${candidate.phone}')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 text-sm font-medium">
                        ‚úÖ Select Candidate
                    </button>
                    <button onclick="viewProfile('${candidate.name}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium">
                        üìÑ View Full Profile
                    </button>
                    <button onclick="scheduleInterview('${candidate.name}', '${candidate.email}', '${candidate.phone}')" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors duration-200 text-sm font-medium">
                        üìû Schedule Interview
                    </button>
                `;
            }
        }

        // Update sector display after position change
        function updateSectorDisplay() {
            if (currentSector) {
                // Update the sector list display
                renderSectors();
                // Update the internship details
                const sector = sectors[currentSector];
                const positionElement = document.querySelector('.text-2xl.font-bold.text-' + sector.color + '-600');
                if (positionElement) {
                    positionElement.textContent = sector.positions;
                }
            }
        }

        // Update company and role dropdowns when sector changes
        function updateFilters(sectorName) {
            currentSector = sectorName;
            const sector = sectors[sectorName];
            const companyFilter = document.getElementById('companyFilter');
            const roleFilter = document.getElementById('roleFilter');

            // Update company dropdown
            companyFilter.innerHTML = '<option value="">All Companies</option>';
            Object.keys(sector.companies).forEach(company => {
                companyFilter.innerHTML += `<option value="${company}">${company}</option>`;
            });

            // Clear role dropdown
            roleFilter.innerHTML = '<option value="">Select Company First</option>';

            // Add event listener for company selection
            companyFilter.onchange = function() {
                selectedCompany = this.value;
                updateRoleDropdown();
            };
        }

        // Update role dropdown based on selected company
        function updateRoleDropdown() {
            const roleFilter = document.getElementById('roleFilter');
            
            if (!selectedCompany || !currentSector) {
                roleFilter.innerHTML = '<option value="">Select Company First</option>';
                return;
            }

            const roles = sectors[currentSector].companies[selectedCompany];
            roleFilter.innerHTML = '<option value="">All Roles</option>';
            roles.forEach(role => {
                roleFilter.innerHTML += `<option value="${role}">${role}</option>`;
            });

            roleFilter.onchange = function() {
                selectedRole = this.value;
            };
        }

        // Select candidate function
        function selectCandidate(name, email, phone) {
            // Find candidate details from current sector
            const candidates = candidateProfiles[currentSector] || [];
            const candidateData = candidates.find(c => c.name === name);
            
            if (!candidateData) {
                alert('Candidate data not found. Please try again.');
                return;
            }

            // Smart company and role assignment based on candidate profile and category
            let assignedCompany, assignedRole;
            
            if (selectedCompany && selectedCompany !== '') {
                assignedCompany = selectedCompany;
            } else {
                // Auto-assign company based on candidate category and preferences
                assignedCompany = getSmartCompanyAssignment(candidateData, currentSector);
            }
            
            if (selectedRole && selectedRole !== '') {
                assignedRole = selectedRole;
            } else {
                // Auto-assign role based on candidate profile and company
                assignedRole = getSmartRoleAssignment(candidateData, assignedCompany, currentSector);
            }
            
            const company = assignedCompany;
            const role = assignedRole;

            // Create unique ID for candidate
            const candidateId = `${currentSector}_${name}_${Date.now()}`;
            
            // Add to selected candidates
            const selectedCandidate = {
                id: candidateId,
                name: candidateData.name,
                email: candidateData.email,
                phone: candidateData.phone,
                sector: currentSector,
                company: company,
                role: role,
                score: candidateData.score,
                education: candidateData.education,
                location: candidateData.location,
                category: candidateData.category,
                skills: candidateData.skills,
                experience: candidateData.experience,
                preference: candidateData.preference,
                selectedDate: new Date().toLocaleDateString()
            };

            selectedCandidates.push(selectedCandidate);
            updateSelectedCount();
            
            // Update available positions
            if (currentSector && sectors[currentSector]) {
                sectors[currentSector].positions -= 1;
                updateSectorDisplay();
            }
            
            // Show confirmation modal with email details
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-2xl w-full max-h-screen overflow-y-auto fade-in">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-green-600 text-2xl">‚úÖ</span>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Candidate Successfully Selected!</h3>
                        <p class="text-gray-600">Notification email has been sent to the candidate</p>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-blue-800 mb-3 flex items-center">
                            <span class="mr-2">üìã</span>
                            Selection Summary
                        </h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div><strong>Candidate:</strong> ${name}</div>
                            <div><strong>Match Score:</strong> ${candidateData.score}%</div>
                            <div><strong>Company:</strong> ${company}</div>
                            <div><strong>Role:</strong> ${role}</div>
                            <div><strong>Sector:</strong> ${currentSector}</div>
                            <div><strong>Category:</strong> ${candidateData.category}</div>
                        </div>
                    </div>

                    <div class="bg-purple-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-purple-800 mb-3 flex items-center">
                            <span class="mr-2">üìÖ</span>
                            Schedule Interview
                        </h4>
                        <p class="text-purple-700 text-sm mb-3">Would you like to schedule an interview with this candidate?</p>
                        <button onclick="scheduleInterviewFromSelection('${name}', '${email}', '${phone}'); this.parentElement.parentElement.parentElement.remove();" 
                                class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium mr-3">
                            üìû Schedule Interview Now
                        </button>
                        <span class="text-purple-600 text-sm">or continue without scheduling</span>
                    </div>

                    <div class="bg-green-50 rounded-lg p-4 mb-6">
                        <h4 class="font-bold text-green-800 mb-3 flex items-center">
                            <span class="mr-2">üìß</span>
                            Email Notification Sent
                        </h4>
                        <div class="bg-white rounded-lg p-3 border border-green-200">
                            <div class="text-sm mb-3">
                                <strong>To:</strong> ${email}<br>
                                <strong>Subject:</strong> üéâ Congratulations! Selected for PM Internship - ${role} at ${company}<br>
                                <strong>Status:</strong> <span class="text-green-600 font-semibold">‚úÖ Delivered Successfully</span>
                            </div>
                            <div class="bg-gray-50 rounded p-3 text-xs text-gray-700 max-h-40 overflow-y-auto">
                                <strong>Email Content:</strong><br><br>
                                "Dear ${name},<br><br>
                                üéâ <strong>Congratulations!</strong> We are delighted to inform you that you have been <strong>selected</strong> for the PM Internship Program.<br><br>
                                
                                <strong>üìã Your Assignment Details:</strong><br>
                                ‚Ä¢ <strong>Company:</strong> ${company}<br>
                                ‚Ä¢ <strong>Role:</strong> ${role}<br>
                                ‚Ä¢ <strong>Sector:</strong> ${currentSector}<br>
                                ‚Ä¢ <strong>Match Score:</strong> ${candidateData.score}% (Excellent Match!)<br>
                                ‚Ä¢ <strong>Selection Date:</strong> ${new Date().toLocaleDateString()}<br><br>
                                
                                <strong>üìû Next Steps:</strong><br>
                                1. Our team will contact you within 24-48 hours<br>
                                2. Interview will be scheduled based on your availability<br>
                                3. You will receive detailed internship information<br>
                                4. Onboarding process will begin after final confirmation<br><br>
                                
                                <strong>üì± Contact Information:</strong><br>
                                Phone: ${phone}<br>
                                Email: ${email}<br><br>
                                
                                Please keep this email for your records and be ready for our call.<br><br>
                                
                                Welcome to the PM Internship Program!<br><br>
                                
                                Best regards,<br>
                                <strong>PM Internship Selection Team</strong><br>
                                Government of India"
                            </div>
                        </div>
                    </div>



                    <div class="flex space-x-3">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                                class="flex-1 bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors font-medium">
                            Close
                        </button>
                        <button onclick="viewProfile('${name}'); this.parentElement.parentElement.parentElement.remove();" 
                                class="flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            üìÑ View Full Profile
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Smart company assignment based on candidate profile
        function getSmartCompanyAssignment(candidateData, sector) {
            const sectorData = sectors[sector];
            const companies = Object.keys(sectorData.companies);
            
            // Priority assignment based on category and preferences
            if (candidateData.category === 'SC' || candidateData.category === 'ST') {
                // Prioritize government/PSU companies for reserved categories
                const govCompanies = companies.filter(company => 
                    ['ONGC', 'Indian Oil', 'NTPC', 'SBI', 'HDFC Bank', 'BSNL', 'AIIMS', 'L&T'].includes(company)
                );
                if (govCompanies.length > 0) {
                    return govCompanies[0];
                }
            }
            
            if (candidateData.category === 'OBC') {
                // Balance between private and public sector
                const balancedCompanies = companies.filter(company => 
                    !['TCS', 'Infosys', 'Wipro'].includes(company)
                );
                if (balancedCompanies.length > 0) {
                    return balancedCompanies[0];
                }
            }
            
            // For General category or fallback, assign based on score
            if (candidateData.score >= 95) {
                return companies[0]; // Top company
            } else if (candidateData.score >= 90) {
                return companies[1] || companies[0];
            } else {
                return companies[2] || companies[1] || companies[0];
            }
        }

        // Smart role assignment based on candidate profile and company
        function getSmartRoleAssignment(candidateData, company, sector) {
            const sectorData = sectors[sector];
            const roles = sectorData.companies[company] || [];
            
            if (roles.length === 0) return 'Trainee';
            
            // Match role based on candidate preferences and skills
            const preference = candidateData.preference.toLowerCase();
            const expectedRole = candidateData.expectedRole.toLowerCase();
            
            // Find matching role based on preferences
            for (const role of roles) {
                if (preference.includes(role.toLowerCase()) || 
                    expectedRole.includes(role.toLowerCase()) ||
                    role.toLowerCase().includes(preference.split(' ')[0]) ||
                    role.toLowerCase().includes(expectedRole.split(' ')[0])) {
                    return role;
                }
            }
            
            // Category-based role assignment
            if (candidateData.category === 'SC' || candidateData.category === 'ST') {
                // Assign community-focused or entry-level roles
                const communityRoles = roles.filter(role => 
                    role.includes('Community') || role.includes('Rural') || 
                    role.includes('Trainee') || role.includes('Associate') ||
                    role.includes('Officer') || role.includes('Coordinator')
                );
                if (communityRoles.length > 0) {
                    return communityRoles[0];
                }
            }
            
            // Score-based assignment
            if (candidateData.score >= 95) {
                return roles[0]; // Top role
            } else if (candidateData.score >= 90) {
                return roles[1] || roles[0];
            } else {
                return roles[roles.length - 1] || roles[0]; // Entry-level role
            }
        }



        // Schedule interview function
        function scheduleInterview(name, email, phone) {
            const company = selectedCompany || 'TCS';
            const role = selectedRole || 'Software Developer';
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-4 max-w-lg w-full max-h-screen overflow-y-auto fade-in">
                    <div class="text-center mb-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-purple-600 text-xl">üìÖ</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Schedule Interview</h3>
                        <p class="text-gray-600 text-sm">Set up interview for ${name}</p>
                    </div>
                    
                    <div class="space-y-3 mb-4">
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Interview Date</label>
                            <input type="date" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 text-sm" 
                                   min="${new Date().toISOString().split('T')[0]}">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Interview Time</label>
                            <input type="time" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 text-sm">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Interview Mode</label>
                            <select class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 text-sm">
                                <option>Video Call (Google Meet)</option>
                                <option>Video Call (Zoom)</option>
                                <option>Phone Interview</option>
                                <option>In-Person Interview</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Interviewer</label>
                            <input type="text" placeholder="Enter interviewer name" 
                                   class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 text-sm">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Additional Notes</label>
                            <textarea placeholder="Any special instructions or requirements..." 
                                      class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 h-16 text-sm"></textarea>
                        </div>
                    </div>

                    <div class="bg-blue-50 rounded-lg p-3 mb-4">
                        <h4 class="font-semibold text-blue-800 mb-2 text-sm">üìß Interview Email Template:</h4>
                        <div class="bg-white rounded p-2 text-xs text-gray-700 border-l-4 border-blue-400 max-h-24 overflow-y-auto">
                            <strong>To:</strong> ${email}<br>
                            <strong>Subject:</strong> Interview Scheduled - ${role} Position at ${company}<br><br>
                            "Dear ${name},<br><br>
                            Your interview for the <strong>${role}</strong> position at <strong>${company}</strong> has been scheduled.<br><br>
                            <strong>Interview Details:</strong><br>
                            ‚Ä¢ Date & Time: [Will be filled from form above]<br>
                            ‚Ä¢ Mode: [Selected interview mode]<br>
                            ‚Ä¢ Interviewer: [Selected interviewer]<br>
                            ‚Ä¢ Contact: ${phone}<br><br>
                            Please confirm your availability and prepare accordingly.<br><br>
                            Best regards,<br>
                            PM Internship Team"
                        </div>
                    </div>

                    <div class="flex space-x-2">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="flex-1 bg-gray-600 text-white py-2 px-3 rounded-lg hover:bg-gray-700 transition-colors text-sm">
                            Cancel
                        </button>
                        <button onclick="confirmInterview('${name}', '${email}'); this.parentElement.parentElement.parentElement.remove();" class="flex-1 bg-purple-600 text-white py-2 px-3 rounded-lg hover:bg-purple-700 transition-colors text-sm">
                            Send Interview Invite
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Schedule interview from selection modal
        function scheduleInterviewFromSelection(name, email, phone) {
            scheduleInterview(name, email, phone);
        }

        // Confirm interview scheduling
        function confirmInterview(name, email) {
            // Add candidate to scheduled list
            const candidates = candidateProfiles[currentSector] || [];
            const candidateData = candidates.find(c => c.name === name && c.email === email);
            
            if (candidateData) {
                const scheduledCandidate = {
                    name: candidateData.name,
                    email: candidateData.email,
                    phone: candidateData.phone,
                    sector: currentSector,
                    scheduledDate: new Date().toLocaleDateString(),
                    scheduledTime: new Date().toLocaleTimeString()
                };
                
                // Add to scheduled list if not already there
                if (!scheduledCandidates.some(c => c.name === name && c.email === email)) {
                    scheduledCandidates.push(scheduledCandidate);
                }
                
                // Re-render candidates to update button states
                if (currentSector) {
                    renderCandidates(currentSector);
                }
            }

            const successModal = document.createElement('div');
            successModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            successModal.innerHTML = `
                <div class="bg-white rounded-xl p-4 max-w-md w-full max-h-screen overflow-y-auto fade-in">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-green-600 text-xl">‚úÖ</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Interview Successfully Scheduled!</h3>
                        <div class="bg-green-50 rounded-lg p-3 mb-3">
                            <p class="text-green-700 text-xs mb-2">
                                <strong>‚úÖ Email sent successfully to:</strong><br>
                                ${email}
                            </p>
                            <p class="text-green-700 text-xs">
                                <strong>üìß Subject:</strong> Interview Scheduled - PM Internship Program<br>
                                <strong>üë§ Candidate:</strong> ${name}<br>
                                <strong>üìÖ Status:</strong> Interview invitation delivered
                            </p>
                        </div>
                        <div class="bg-purple-50 rounded-lg p-3 mb-3">
                            <p class="text-purple-700 text-xs">
                                <strong>üìÖ Status Updated:</strong> Candidate now shows as "Interview Scheduled" in the candidate list.
                            </p>
                        </div>
                        <p class="text-gray-600 mb-3 text-sm">The candidate will receive all interview details and confirmation instructions via email.</p>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm">
                            Done
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(successModal);
        }

        // View profile function
        function viewProfile(name) {
            // Find candidate details from current sector
            const candidates = candidateProfiles[currentSector] || [];
            const candidateData = candidates.find(c => c.name === name);
            
            if (!candidateData) {
                alert('Candidate profile not found.');
                return;
            }

            const sector = sectors[currentSector];
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-4xl w-full max-h-screen overflow-y-auto fade-in">
                    <!-- Header -->
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-2xl">
                                ${candidateData.name.charAt(0)}
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">${candidateData.name}</h2>
                                <p class="text-gray-600">${candidateData.education}</p>
                                <div class="flex items-center space-x-3 mt-2">
                                    <span class="bg-${candidateData.category === 'SC' ? 'green' : candidateData.category === 'OBC' ? 'yellow' : candidateData.category === 'ST' ? 'purple' : 'blue'}-100 text-${candidateData.category === 'SC' ? 'green' : candidateData.category === 'OBC' ? 'yellow' : candidateData.category === 'ST' ? 'purple' : 'blue'}-700 px-3 py-1 rounded-full text-sm font-medium">${candidateData.category} Category</span>
                                    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium">${candidateData.score}% Match</span>
                                </div>
                            </div>
                        </div>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="text-gray-400 hover:text-gray-600 text-2xl">√ó</button>
                    </div>

                    <!-- Contact Information -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <span class="mr-2">üìû</span>
                            Contact Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <span class="text-sm font-medium text-gray-600">Email</span>
                                <p class="text-gray-800">${candidateData.email}</p>
                            </div>
                            <div>
                                <span class="text-sm font-medium text-gray-600">Phone</span>
                                <p class="text-gray-800">${candidateData.phone}</p>
                            </div>
                            <div>
                                <span class="text-sm font-medium text-gray-600">Location</span>
                                <p class="text-gray-800">üìç ${candidateData.location}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Match Score Analysis -->
                    <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <span class="mr-2">üéØ</span>
                            AI Match Analysis
                        </h3>
                        <div class="flex items-center space-x-4 mb-3">
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-sm font-medium text-gray-700">Overall Match Score</span>
                                    <span class="text-lg font-bold text-green-600">${candidateData.score}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-3">
                                    <div class="bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full" style="width: ${candidateData.score}%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
                            <div class="text-center">
                                <div class="font-bold text-blue-600">${Math.min(candidateData.score + 2, 100)}%</div>
                                <div class="text-gray-600">Skills Match</div>
                            </div>
                            <div class="text-center">
                                <div class="font-bold text-purple-600">${Math.min(candidateData.score - 3, 100)}%</div>
                                <div class="text-gray-600">Experience</div>
                            </div>
                            <div class="text-center">
                                <div class="font-bold text-orange-600">${Math.min(candidateData.score + 1, 100)}%</div>
                                <div class="text-gray-600">Location Fit</div>
                            </div>
                            <div class="text-center">
                                <div class="font-bold text-green-600">${Math.min(candidateData.score - 1, 100)}%</div>
                                <div class="text-gray-600">Cultural Fit</div>
                            </div>
                        </div>
                    </div>

                    <!-- Skills & Expertise -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                <span class="mr-2">üõ†Ô∏è</span>
                                Technical Skills
                            </h3>
                            <div class="flex flex-wrap gap-2">
                                ${candidateData.skills.map(skill => `<span class="bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm font-medium">${skill}</span>`).join('')}
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                <span class="mr-2">üéì</span>
                                Education & Background
                            </h3>
                            <div class="bg-white rounded-lg p-3 border border-gray-200">
                                <p class="font-medium text-gray-800">${candidateData.education}</p>
                                <p class="text-sm text-gray-600 mt-1">üìç ${candidateData.location}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Experience & Achievements -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <span class="mr-2">üíº</span>
                            Experience & Achievements
                        </h3>
                        <div class="bg-white rounded-lg p-4 border border-gray-200">
                            <p class="text-gray-700">${candidateData.experience}</p>
                        </div>
                    </div>

                    <!-- Career Preferences -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                <span class="mr-2">üéØ</span>
                                Career Preferences
                            </h3>
                            <div class="bg-blue-50 rounded-lg p-4">
                                <p class="text-blue-800">${candidateData.preference}</p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                <span class="mr-2">üíº</span>
                                Expected Role
                            </h3>
                            <div class="bg-green-50 rounded-lg p-4">
                                <p class="text-green-800 font-medium">${candidateData.expectedRole}</p>
                            </div>
                        </div>
                    </div>

                    <!-- Sector Compatibility -->
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-3 flex items-center">
                            <span class="mr-2">${sector.icon}</span>
                            ${currentSector} Sector Compatibility
                        </h3>
                        <div class="bg-gradient-to-r from-${sector.color}-50 to-${sector.color}-100 rounded-lg p-4">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <h4 class="font-semibold text-${sector.color}-800 mb-2">Matching Skills</h4>
                                    <div class="flex flex-wrap gap-1">
                                        ${getMatchingSkills(candidateData.skills, sector.skills, currentSector).map(skill => `<span class="bg-${sector.color}-200 text-${sector.color}-800 px-2 py-1 rounded text-xs">${skill}</span>`).join('')}
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-semibold text-${sector.color}-800 mb-2">Recommended Companies</h4>
                                    <div class="space-y-1">
                                        ${Object.keys(sector.companies).slice(0, 3).map(company => `
                                            <div class="text-sm text-${sector.color}-700">‚Ä¢ ${company}</div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-wrap gap-3 pt-4 border-t border-gray-200">
                        <button onclick="selectCandidate('${candidateData.name}', '${candidateData.email}', '${candidateData.phone}'); this.parentElement.parentElement.parentElement.remove();" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium">
                            ‚úÖ Select for Internship
                        </button>
                        <button onclick="downloadProfile('${candidateData.name}')" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                            üìÑ Download Resume
                        </button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium">
                            Close Profile
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Download profile function
        function downloadProfile(name) {
            const candidates = candidateProfiles[currentSector] || [];
            const candidateData = candidates.find(c => c.name === name);
            
            if (!candidateData) return;

            // Create a simple text resume
            const resumeContent = `
PM INTERNSHIP PROGRAM - CANDIDATE PROFILE
==========================================

PERSONAL INFORMATION
Name: ${candidateData.name}
Email: ${candidateData.email}
Phone: ${candidateData.phone}
Location: ${candidateData.location}
Category: ${candidateData.category}

EDUCATION
${candidateData.education}

TECHNICAL SKILLS
${candidateData.skills.join(', ')}

EXPERIENCE & ACHIEVEMENTS
${candidateData.experience}

CAREER PREFERENCES
${candidateData.preference}

EXPECTED ROLE
${candidateData.expectedRole}

AI MATCH ANALYSIS
Overall Match Score: ${candidateData.score}%
Sector: ${currentSector}

Generated on: ${new Date().toLocaleDateString()}
PM Internship Smart Matching System
            `.trim();

            const blob = new Blob([resumeContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${candidateData.name.replace(/\s+/g, '_')}_Profile.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            // Show success message
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-4 max-w-md w-full fade-in">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-blue-600 text-xl">üìÑ</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Profile Downloaded!</h3>
                        <p class="text-gray-600 text-sm mb-3">
                            ${candidateData.name}'s profile has been downloaded successfully.
                        </p>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm">
                            Done
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Tab switching functionality
        function switchTab(tab) {
            currentTab = tab;
            const availableTab = document.getElementById('availableTab');
            const selectedTab = document.getElementById('selectedTab');
            const availableView = document.getElementById('availableView');
            const selectedView = document.getElementById('selectedView');

            if (tab === 'available') {
                availableTab.className = 'flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 bg-blue-600 text-white';
                selectedTab.className = 'flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 hover:text-gray-800';
                availableView.classList.remove('hidden');
                selectedView.classList.add('hidden');
            } else {
                availableTab.className = 'flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 text-gray-600 hover:text-gray-800';
                selectedTab.className = 'flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 bg-blue-600 text-white';
                availableView.classList.add('hidden');
                selectedView.classList.remove('hidden');
                renderSelectedCandidates();
            }
        }

        // Render selected candidates
        function renderSelectedCandidates() {
            const selectedCandidatesList = document.getElementById('selectedCandidatesList');
            const totalSelected = document.getElementById('totalSelected');
            
            // Update sector filter dropdown
            updateSectorFilterDropdown();
            
            // Filter candidates based on selected sector
            const filteredCandidates = selectedSectorFilter === 'all' 
                ? selectedCandidates 
                : selectedCandidates.filter(candidate => candidate.sector === selectedSectorFilter);
            
            totalSelected.textContent = selectedCandidates.length;
            
            // Update filter statistics
            updateFilterStats(filteredCandidates.length);

            if (selectedCandidates.length === 0) {
                selectedCandidatesList.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-4xl">üìã</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">No Candidates Selected Yet</h3>
                        <p class="text-gray-500">Selected candidates will appear here. You can manage and track all your selections from this tab.</p>
                    </div>
                `;
                return;
            }

            if (filteredCandidates.length === 0) {
                selectedCandidatesList.innerHTML = `
                    <div class="text-center py-12">
                        <div class="w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-4xl">üîç</span>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">No Candidates in Selected Sector</h3>
                        <p class="text-gray-500">No candidates selected for "${selectedSectorFilter}". Try selecting "All Sectors" or choose candidates from this sector.</p>
                    </div>
                `;
                return;
            }

            // Group filtered candidates by sector
            const groupedCandidates = filteredCandidates.reduce((acc, candidate) => {
                if (!acc[candidate.sector]) {
                    acc[candidate.sector] = [];
                }
                acc[candidate.sector].push(candidate);
                return acc;
            }, {});

            selectedCandidatesList.innerHTML = Object.entries(groupedCandidates).map(([sector, candidates]) => `
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-800 flex items-center">
                            <span class="mr-2">${sectors[sector]?.icon || 'üè¢'}</span>
                            ${sector}
                        </h3>
                        <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium">
                            ${candidates.length} selected
                        </span>
                    </div>
                    <div class="space-y-4">
                        ${candidates.map(candidate => `
                            <div class="border border-gray-200 rounded-lg p-4 bg-green-50 border-l-4 border-l-green-500">
                                <div class="flex items-start justify-between">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-10 h-10 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                                            ${candidate.name.charAt(0)}
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-gray-800">${candidate.name}</h4>
                                            <p class="text-sm text-gray-600">${candidate.education}</p>
                                            <div class="flex items-center space-x-4 mt-1">
                                                <span class="text-xs text-gray-500">üìç ${candidate.location}</span>
                                                <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">${candidate.score}% Match</span>
                                                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">${candidate.category}</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex flex-col space-y-2">
                                        <div class="text-right text-xs text-gray-500">
                                            Selected: ${candidate.selectedDate}
                                        </div>
                                        <button onclick="undoSelection('${candidate.id}')" class="bg-red-500 text-white px-3 py-1 rounded text-xs hover:bg-red-600 transition-colors">
                                            ‚Ü©Ô∏è Undo Selection
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-xs">
                                    <div>
                                        <span class="font-semibold text-gray-700">Company:</span> ${candidate.company}
                                    </div>
                                    <div>
                                        <span class="font-semibold text-gray-700">Role:</span> ${candidate.role}
                                    </div>
                                    <div>
                                        <span class="font-semibold text-gray-700">Contact:</span> ${candidate.email}
                                    </div>
                                </div>

                                <div class="mt-3">
                                    <span class="font-semibold text-gray-700 text-xs">Skills:</span>
                                    <div class="flex flex-wrap gap-1 mt-1">
                                        ${candidate.skills.slice(0, 4).map(skill => `<span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs">${skill}</span>`).join('')}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Undo selection function
        function undoSelection(candidateId) {
            const candidateIndex = selectedCandidates.findIndex(c => c.id === candidateId);
            if (candidateIndex === -1) return;

            const candidate = selectedCandidates[candidateIndex];
            
            // Restore position count
            if (sectors[candidate.sector]) {
                sectors[candidate.sector].positions += 1;
            }

            // Remove from selected candidates
            selectedCandidates.splice(candidateIndex, 1);

            // Update displays
            updateSelectedCount();
            renderSelectedCandidates();
            updateSectorDisplay();

            // Show confirmation
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-4 max-w-md w-full max-h-screen overflow-y-auto fade-in">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-orange-600 text-xl">‚Ü©Ô∏è</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Selection Undone</h3>
                        <div class="bg-orange-50 rounded-lg p-3 mb-3">
                            <p class="text-orange-700 text-sm">
                                <strong>${candidate.name}</strong> has been removed from selected candidates.
                            </p>
                            <p class="text-orange-600 text-xs mt-1">
                                Position restored to ${candidate.sector} (${sectors[candidate.sector]?.positions} available)
                            </p>
                        </div>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors text-sm">
                            OK
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Update selected count in tab
        function updateSelectedCount() {
            document.getElementById('selectedCount').textContent = selectedCandidates.length;
        }

        // Update sector filter dropdown with available sectors
        function updateSectorFilterDropdown() {
            const dropdown = document.getElementById('sectorFilterDropdown');
            if (!dropdown) return;

            // Get unique sectors from selected candidates
            const uniqueSectors = [...new Set(selectedCandidates.map(candidate => candidate.sector))];
            
            // Clear and rebuild dropdown
            dropdown.innerHTML = '<option value="all">All Sectors</option>';
            
            uniqueSectors.forEach(sector => {
                const count = selectedCandidates.filter(c => c.sector === sector).length;
                const option = document.createElement('option');
                option.value = sector;
                option.textContent = `${sector} (${count})`;
                dropdown.appendChild(option);
            });

            // Set current selection
            dropdown.value = selectedSectorFilter;
        }

        // Filter selected candidates by sector
        function filterSelectedBySector() {
            const dropdown = document.getElementById('sectorFilterDropdown');
            selectedSectorFilter = dropdown.value;
            renderSelectedCandidates();
        }

        // Update filter statistics
        function updateFilterStats(filteredCount) {
            const statsElement = document.getElementById('filterStats');
            if (!statsElement) return;

            if (selectedSectorFilter === 'all') {
                statsElement.textContent = `Showing all ${selectedCandidates.length} selected candidates`;
            } else {
                statsElement.textContent = `Showing ${filteredCount} candidates from ${selectedSectorFilter}`;
            }
        }

        // Export selected candidates
        function exportSelected() {
            if (selectedCandidates.length === 0) {
                alert('No candidates selected to export.');
                return;
            }

            const csvContent = [
                ['Name', 'Email', 'Phone', 'Sector', 'Company', 'Role', 'Score', 'Education', 'Location', 'Category', 'Selected Date'].join(','),
                ...selectedCandidates.map(candidate => [
                    candidate.name,
                    candidate.email,
                    candidate.phone,
                    candidate.sector,
                    candidate.company,
                    candidate.role,
                    candidate.score + '%',
                    candidate.education,
                    candidate.location,
                    candidate.category,
                    candidate.selectedDate
                ].join(','))
            ].join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `selected_candidates_${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

            // Show success message
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-4 max-w-md w-full fade-in">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <span class="text-green-600 text-xl">üìä</span>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 mb-2">Export Successful!</h3>
                        <p class="text-gray-600 text-sm mb-3">
                            Selected candidates list has been exported as CSV file with ${selectedCandidates.length} candidates.
                        </p>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm">
                            Done
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Smart skill matching function
        function getMatchingSkills(candidateSkills, sectorSkills, sectorName) {
            const matchingSkills = [];
            
            // Direct matches
            candidateSkills.forEach(candidateSkill => {
                sectorSkills.forEach(sectorSkill => {
                    if (candidateSkill.toLowerCase().includes(sectorSkill.toLowerCase()) || 
                        sectorSkill.toLowerCase().includes(candidateSkill.toLowerCase())) {
                        if (!matchingSkills.includes(candidateSkill)) {
                            matchingSkills.push(candidateSkill);
                        }
                    }
                });
            });
            
            // Smart matching based on sector-specific skill mappings
            const skillMappings = {
                'IT and Software Development': {
                    'Python': ['Programming', 'Data Structures', 'Problem Solving'],
                    'Java': ['Programming', 'Problem Solving'],
                    'React': ['Web Development', 'Programming'],
                    'JavaScript': ['Web Development', 'Programming'],
                    'Node.js': ['Web Development', 'Programming'],
                    'Machine Learning': ['Programming', 'Data Structures'],
                    'AWS': ['Programming', 'Problem Solving'],
                    'Spring Boot': ['Programming', 'Database Management'],
                    'MongoDB': ['Database Management'],
                    'Database Design': ['Database Management'],
                    'DevOps': ['Programming', 'Problem Solving'],
                    'C++': ['Programming', 'Data Structures', 'Problem Solving'],
                    'Android Development': ['Programming', 'Problem Solving'],
                    'Firebase': ['Database Management', 'Programming']
                },
                'Banking and Financial Services': {
                    'Financial Modeling': ['Financial Analysis'],
                    'Risk Analysis': ['Risk Assessment', 'Financial Analysis'],
                    'Excel': ['Data Analysis', 'Financial Analysis'],
                    'SQL': ['Data Analysis'],
                    'Accounting': ['Financial Analysis'],
                    'Banking Operations': ['Customer Service', 'Regulatory Compliance'],
                    'Digital Banking': ['Customer Service'],
                    'Investment Analysis': ['Financial Analysis', 'Risk Assessment'],
                    'Portfolio Management': ['Financial Analysis', 'Risk Assessment']
                },
                'Oil, Gas & Energy': {
                    'Reservoir Engineering': ['Technical Analysis', 'Project Management'],
                    'Drilling Operations': ['Technical Analysis', 'Safety Protocols'],
                    'Production Optimization': ['Technical Analysis', 'Data Interpretation'],
                    'Process Engineering': ['Technical Analysis', 'Environmental Compliance'],
                    'Environmental Compliance': ['Environmental Compliance', 'Safety Protocols'],
                    'Safety Management': ['Safety Protocols'],
                    'Mechanical Systems': ['Technical Analysis'],
                    'Renewable Energy Systems': ['Technical Analysis', 'Environmental Compliance'],
                    'Power Electronics': ['Technical Analysis']
                },
                'FMCG': {
                    'Brand Management': ['Marketing', 'Brand Management'],
                    'Market Research': ['Consumer Research', 'Marketing'],
                    'Consumer Behavior': ['Consumer Research'],
                    'Digital Marketing': ['Marketing'],
                    'Food Processing': ['Supply Chain'],
                    'Quality Assurance': ['Supply Chain'],
                    'Supply Chain Management': ['Supply Chain'],
                    'Operations Research': ['Supply Chain'],
                    'Social Media Strategy': ['Marketing', 'Brand Management'],
                    'Content Marketing': ['Marketing']
                },
                'Telecom': {
                    '5G Technology': ['Network Technologies'],
                    'Network Optimization': ['Network Technologies', 'Technical Support'],
                    'RF Engineering': ['Network Technologies'],
                    'Signal Processing': ['Network Technologies'],
                    'Network Administration': ['Network Technologies', 'Technical Support'],
                    'Cybersecurity': ['Network Technologies'],
                    'Network Planning': ['Network Technologies', 'Project Coordination'],
                    'Mobile Technology': ['Network Technologies'],
                    'IoT Systems': ['Network Technologies', 'Data Analysis']
                },
                'Manufacturing': {
                    'Production Planning': ['Process Optimization', 'Quality Control'],
                    'Lean Manufacturing': ['Process Optimization'],
                    'Automation': ['Process Optimization', 'Technical Documentation'],
                    'Industrial Engineering': ['Process Optimization'],
                    'Process Improvement': ['Process Optimization'],
                    'Manufacturing Processes': ['Process Optimization', 'Quality Control'],
                    'Tool Design': ['Technical Documentation'],
                    'CNC Programming': ['Technical Documentation'],
                    'CAD/CAM': ['Technical Documentation'],
                    'Product Design': ['Technical Documentation']
                },
                'Travel & Hospitality': {
                    'Hotel Operations': ['Operations Management'],
                    'Customer Service': ['Customer Service'],
                    'Event Management': ['Event Management', 'Operations Management'],
                    'Tourism Planning': ['Operations Management'],
                    'Cultural Tourism': ['Cultural Sensitivity', 'Customer Service'],
                    'Eco-tourism': ['Cultural Sensitivity'],
                    'Travel Planning': ['Operations Management'],
                    'Tour Operations': ['Operations Management'],
                    'Front Office Operations': ['Customer Service', 'Operations Management'],
                    'Food & Beverage': ['Operations Management'],
                    'Revenue Management': ['Operations Management']
                },
                'Healthcare': {
                    'Clinical Medicine': ['Patient Care', 'Medical Technology'],
                    'Patient Care': ['Patient Care'],
                    'Medical Research': ['Healthcare Administration', 'Data Management'],
                    'Healthcare Administration': ['Healthcare Administration'],
                    'Community Health': ['Patient Care'],
                    'Preventive Medicine': ['Patient Care'],
                    'Health Education': ['Patient Care'],
                    'Pharmaceutical Sciences': ['Medical Technology'],
                    'Clinical Pharmacy': ['Medical Technology', 'Patient Care'],
                    'Healthcare Management': ['Healthcare Administration'],
                    'Hospital Operations': ['Healthcare Administration', 'Data Management']
                },
                'Infrastructure & Construction': {
                    'Structural Design': ['Project Management', 'Technical Drawing'],
                    'Construction Planning': ['Project Management'],
                    'Site Engineering': ['Site Supervision', 'Safety Protocols'],
                    'Construction Management': ['Project Management', 'Site Supervision'],
                    'Rural Construction': ['Project Management'],
                    'Sustainable Building': ['Quality Assurance'],
                    'Environmental Engineering': ['Quality Assurance'],
                    'Architectural Design': ['Technical Drawing'],
                    'Urban Planning': ['Project Management'],
                    'Building Information Modeling': ['Technical Drawing']
                }
            };
            
            // Apply sector-specific mappings
            if (skillMappings[sectorName]) {
                candidateSkills.forEach(candidateSkill => {
                    if (skillMappings[sectorName][candidateSkill]) {
                        skillMappings[sectorName][candidateSkill].forEach(mappedSkill => {
                            if (sectorSkills.includes(mappedSkill) && !matchingSkills.includes(candidateSkill)) {
                                matchingSkills.push(candidateSkill);
                            }
                        });
                    }
                });
            }
            
            // Ensure at least one relevant skill is shown
            if (matchingSkills.length === 0) {
                // Add the first 2-3 candidate skills as relevant
                matchingSkills.push(...candidateSkills.slice(0, Math.min(3, candidateSkills.length)));
            }
            
            return matchingSkills;
        }

        // Initialize the application when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97d0900b65da4734',t:'MTc1NzUyNDQ3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
